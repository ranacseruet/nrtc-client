/*! nrtc-client 2015-03-20 */
function nRTC(a,b,c){c||(c="http://demo.codesamplez.com:5000");var d=io.connect(c,{query:"token="+b+"&username="+a});this.onConnect=function(a){d.on("connect",function(){}),d.on("init",function(b){a(b)})},this.ondisconnect=function(){d.on("disconnect",function(){})},this.onError=function(){d.on("error",function(a){"UnauthorizedError"==a.type||"invalid_token"==a.code})},this.onUserJoin=function(a){d.on("joined",function(b){a(b)})},this.onUserLeave=function(a){d.on("leaved",function(b){a(b)})},this.onGroupMessage=function(a){d.on("message",function(b){a(b.sender,b.content)})},this.sendGroupMessage=function(b){d.emit("message",{sender:a,content:b})},this.onPrivateMessage=function(a){d.on("private-message",function(b){console.log("private msg: "+JSON.stringify(b)),a(b.sender,b.content)})},this.sendPrivateMessage=function(b,c){d.emit("private-message",{sender:a,reciever:b,content:c})},window.onbeforeunload=function(){d.emit("disconnect",{username:a})}}if(!window.io){var script=document.createElement("script");script.src="https://cdn.socket.io/socket.io-1.3.4.js",document.body.appendChild(script)}